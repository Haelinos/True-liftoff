using GXPEngine.GXPEngine;
using GXPEngine.Managers;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace GXPEngine
{
    public class Note : AnimationSprite
    {
        float speed = 2.5f;
        public MusicDisk musicDisk;

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      Note()
        //---------------------------------------------------------------------------------------------------------------------------
        public Note(MusicDisk musicDisk) : base("Notes.png", 6, 1)
        {
            SetOrigin(width / 2, height / 2);
            scale = 5;
            SetCycle(0, 1);
            RandomizeNote();
            this.musicDisk = musicDisk;
        }

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      RandomizeNote()
        //---------------------------------------------------------------------------------------------------------------------------
        public void RandomizeNote() 
        {
            var posX = new List<int> { 600, 650, 700 };
            int index = Utils.Random(0, posX.Count);
            x = (posX[index]);
        }

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      Update()
        //---------------------------------------------------------------------------------------------------------------------------
        public void Update()
        {
            MoveNoteDown();
        }

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      MoveNoteDown()
        //---------------------------------------------------------------------------------------------------------------------------
        private void MoveNoteDown()
        {
            y += speed;
            Console.WriteLine("x: {0} y: {1}", x, y);
        }

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      CollisionChecker()
        //---------------------------------------------------------------------------------------------------------------------------

        void CollisionChecker()
        {
            if (DistanceTo(musicDisk) < musicDisk.width/2)
            {
                Console.WriteLine("cumkind");
            } 
        }

        //---------------------------------------------------------------------------------------------------------------------------
        //                                                      Timer()
        //---------------------------------------------------------------------------------------------------------------------------

        //void Timer() 
        //{ 
        //    Time time 
        
        //}
    }
}
